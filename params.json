{"name":"easymongo","tagline":"Simple interface for the MongoDB API","body":"[![NPM version][npm-image]][npm-url]\r\n[![Build status][travis-image]][travis-url]\r\n[![Test coverage][coveralls-image]][coveralls-url]\r\n[![Dependency status][dependency-image]][dependency-url]\r\n[![devDependency status][devdependency-image]][devdependency-url]\r\n\r\nThis is a small tweaks for the [native MongoDB driver](https://github.com/mongodb/node-mongodb-native).\r\n\r\nEasymongo v5 now support only Node.js v4. For previous version you can use [the older easymongo](https://github.com/meritt/easymongo/releases/tag/v4.0.2).\r\n\r\n## Installation\r\n\r\n```bash\r\n$ npm i --save easymongo\r\n```\r\n\r\n## Examples\r\n\r\n```js\r\nconst Client = require('easymongo');\r\n\r\nlet mongo = new Client({dbname: 'test'});\r\nlet users = mongo.collection('users');\r\n\r\nlet data = {name: 'Alexey', surname: 'Simonenko', url: 'http://simonenko.su'};\r\n\r\nusers.save(data).then(function(res) {\r\n  // Returns a new document (array).\r\n  console.log(res);\r\n});\r\n\r\nusers.find({name: 'Alexey'}, {limit: 2}).then(function(res) {\r\n  // Always return array of documents.\r\n  console.log(res);\r\n});\r\n\r\nusers.findById('4e4e1638c85e808431000003').then(function(res) {\r\n  // Returns a document (object). If error occurs then will return false.\r\n  console.log(res);\r\n});\r\n\r\nusers.count({name: 'Alexey'}).then(function(res) {\r\n  // Amount (int). If error occurs then will return zero.\r\n  console.log(res);\r\n});\r\n\r\nusers.remove({name: 'Alexey'}).then(function(res) {\r\n  // Returns a result of operation (boolean). If error occurs then will return false.\r\n  console.log(res);\r\n});\r\n\r\nusers.removeById('4e4e1638c85e808431000003').then(function(res) {\r\n  // Returns a result of operation (boolean). If error occurs then will return false.\r\n  console.log(res);\r\n});\r\n```\r\n\r\n## API\r\n\r\n### Client class\r\n\r\n#### Constructor\r\n\r\nArguments:\r\n\r\n  * `server` (string || object) — [connection url](http://docs.mongodb.org/manual/reference/connection-string/) to MongoDB or object with host, port and dbname\r\n  * `options` (object) — [optional options](http://mongodb.github.io/node-mongodb-native/api-generated/mongoclient.html#connect) for insert command\r\n\r\n#### Methods\r\n\r\n* `collection(name)` — returns a new instance of the easymongo [Collection class](#collection-class)\r\n* `open(name)` — returns a Promise which resolves an object of [MongoDB Collection](http://mongodb.github.io/node-mongodb-native/api-generated/collection.html)\r\n* `close()` — close the db connection\r\n\r\n### Collection class\r\n\r\n#### Methods\r\n\r\n* `find([params][, options])`\r\n* `findOne([params][, options])`\r\n* `findById(oid[, fields])`\r\n* `save(data)`\r\n* `update(params, data)`\r\n* `remove([params])`\r\n* `removeById(oid)`\r\n* `count([params])`\r\n\r\nAll methods return a Promise.\r\n\r\nPossible find `options`:\r\n\r\n* `limit` — to specify the maximum number of documents ([more info](http://docs.mongodb.org/manual/reference/method/cursor.limit/))\r\n* `skip` — to control where MongoDB begins return results ([more info](http://docs.mongodb.org/manual/reference/method/cursor.skip/))\r\n* `sort` — to control the order of matching documents ([more info](http://docs.mongodb.org/manual/reference/method/cursor.sort/))\r\n* `fields` — specify array of fields in returned documents, e.g. `[\"name\", \"url\"]`\r\n\r\n## Flow control\r\n\r\nYou can use `easymongo` with [co](https://github.com/visionmedia/co) for promise/generator based flow-control.\r\n\r\n## Author\r\n\r\n  - [Alexey Simonenko](https://github.com/meritt)\r\n\r\n## License\r\n\r\nThe MIT License, see the included `license.md` file.\r\n\r\n[npm-image]: https://img.shields.io/npm/v/easymongo.svg?style=flat\r\n[npm-url]: https://www.npmjs.com/package/easymongo\r\n[travis-image]: https://travis-ci.org/meritt/easymongo.svg?branch=master\r\n[travis-url]: https://travis-ci.org/meritt/easymongo\r\n[coveralls-image]: https://coveralls.io/repos/meritt/easymongo/badge.svg?branch=master&service=github\r\n[coveralls-url]: https://coveralls.io/github/meritt/easymongo?branch=master\r\n[dependency-image]: https://img.shields.io/david/meritt/easymongo.svg?style=flat\r\n[dependency-url]: https://david-dm.org/meritt/easymongo\r\n[devdependency-image]: https://img.shields.io/david/dev/meritt/easymongo.svg?style=flat\r\n[devdependency-url]: https://david-dm.org/meritt/easymongo#info=devDependencies\r\n","google":"UA-37507032-2","note":"Don't delete this file! It's used internally to help with page regeneration."}